<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>
    {% block stylesheets %}
        <!-- Bootstrap Core CSS -->
        {#<link rel="stylesheet" href="{{ asset('vendor/bootstrap/css/bootstrap.min.css') }}">#}
        {#<link rel="stylesheet" href="{{ asset('vendor/metisMenu/metisMenu.min.css') }}">#}
        {#<link rel="stylesheet" href="{{ asset('dist/css/sb-admin-2.css') }}">#}
        {#<link rel="stylesheet" href="{{ asset('vendor/morrisjs/morris.css') }}">#}
        {#<link rel="stylesheet" href="{{ asset('vendor/font-awesome/css/font-awesome.min.css') }}">#}
        {#<link rel="stylesheet" href="{{ asset('plugins/select2/css/select2.css') }}">#}
        <link rel="stylesheet" href="{{ asset('css/general.css') }}">
        {#<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>#}

        <!-- #CSS Links -->
        <!-- Basic Styles -->
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('css/bootstrap.min.css') }}">
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('css/font-awesome.min.css') }}">
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('css/smartadmin-production-plugins.min.css') }}">
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('css/smartadmin-production.min.css') }}">
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('css/smartadmin-skins.min.css') }}">

        <!-- We recommend you use "your_style.css" to override SmartAdmin
             specific styles this will also ensure you retrain your customization with each SmartAdmin update.
        <link rel="stylesheet" type="text/css" media="screen" href="css/your_style.css"> -->

        <!-- #FAVICONS -->
        <link rel="shortcut icon" href="{{ asset('img/favicon/favicon.ico') }}" type="image/x-icon">
        <link rel="icon" href="{{ asset('img/favicon/favicon.ico') }}" type="image/x-icon">

        <!-- #GOOGLE FONT -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">

        <!-- #APP SCREEN / ICONS -->
        <!-- Specifying a Webpage Icon for Web Clip
             Ref: https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html -->
        <link rel="apple-touch-icon" href="{{ asset('img/splash/sptouch-icon-iphone.png') }}">
        <link rel="apple-touch-icon" sizes="76x76" href="{{ asset('img/splash/touch-icon-ipad.png') }}">
        <link rel="apple-touch-icon" sizes="120x120" href="{{ asset('img/splash/touch-icon-iphone-retina.png') }}">
        <link rel="apple-touch-icon" sizes="152x152" href="{{ asset('img/splash/touch-icon-ipad-retina.png') }}">

        <!-- iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <!-- Startup image for web apps -->
        <link rel="apple-touch-startup-image" href="{{ asset('img/splash/ipad-landscape.png') }}"
              media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
        <link rel="apple-touch-startup-image" href="{{ asset('img/splash/ipad-portrait.png') }}"
              media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
        <link rel="apple-touch-startup-image" href="{{ asset('img/splash/iphone.png') }}"
              media="screen and (max-device-width: 320px)">


        <style type="text/css">
            td.titulo {
                font-weight: bold;
                background-color: #f5f5f5;
            }
        </style>

    {% endblock %}
</head>
<body class="">

{% include('base_cabecera_navegacion.html.twig') %}

<!-- #NAVIGATION -->
<!-- Left panel : Navigation area -->
<!-- Note: This width of the aside area can be adjusted through LESS/SASS variables -->
<aside id="left-panel">

    <!-- User info -->
    <div class="login-info">
				<span> <!-- User image size is adjusted inside CSS, it should stay as is -->

					<a href="javascript:void(0);" id="show-shortcut" data-action="toggleShortcut">
						<img src="{{ asset('img/avatars/sunny.png') }}" alt="me" class="online"/>
						<span>
							john.doe
						</span>
						<i class="fa fa-angle-down"></i>
					</a>

				</span>
    </div>
    <!-- end user info -->

    {% set arrRuta = app.request.attributes.get('_route')|split('_') %}
    {% if arrRuta | length > 0 and arrRuta.0 is defined and arrRuta.0 != 'admin' %}
        {#{{ dump(arrRuta) }}#}
        {% if arrRuta.0 == 'inicio' %}
            {% include('base_menu_inicio.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'transporte' %}
            {% include('base_transporte.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'recursohumano' %}
            {% include('base_recursoHumano.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'turno' %}
            {% include('base_turno.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'cartera' %}
            {% include('base_cartera.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'compra' %}
            {% include('base_compra.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'inventario' %}
            {% include('base_inventario.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'financiero' %}
            {% include('base_financiero.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'documental' %}
            {% include('base_documental.html.twig') %}
        {% endif %}
        {% if arrRuta.0 == 'gen' %}
            {% include('base_general.html.twig') %}
        {% endif %}
    {% endif %}

    {#<nav>#}
    {#<ul>#}
    {#<li class="">#}
    {#<a href="index.html" title="blank_"><i class="fa fa-lg fa-fw fa-home"></i> <span#}
    {#class="menu-item-parent">Blank</span></a>#}
    {#</li>#}
    {#</ul>#}
    {#</nav>#}

    <span class="minifyme" data-action="minifyMenu"> <i class="fa fa-arrow-circle-left hit"></i> </span>

</aside>
<!-- END NAVIGATION -->

<!-- #MAIN PANEL -->
<div id="main" role="main">

    <!-- RIBBON -->
    <div id="ribbon">

        <!-- breadcrumb -->

        {% set arrRuta = app.request.attributes.get('_route')|split('_') %}

        {% if arrRuta | length > 0 and arrRuta.0 is defined and arrRuta.0 != 'admin' %}
            {#<div class="row">#}
            {#<div class="col-lg-12">#}
            {#<h3 class='page-header'>#}
            <ol class="breadcrumb">
                <li>{{ arrRuta.0 | capitalize }} {% if arrRuta.1 is defined %}{{ arrRuta.1 | capitalize }} {% endif %}</li>

                {% if arrRuta.2 is defined %}
                    <li>{{ arrRuta.2 | capitalize }}

                        : {% if arrRuta.3 is defined %}{{ arrRuta.3 }} {% if arrRuta.4 is defined %}{{ arrRuta.4 }}{% endif %}{% endif %}</li>
                {% endif %}
                {#</h3>#}
                {#</div>#}
                {#<!-- /.col-lg-12 -->#}
                {#</div>#}
            </ol>
        {% endif %}
        {{ notificar()|raw }}
        {#<ol class="breadcrumb">#}
        {#<li>Home</li>#}
        {#<li>Blank</li>#}
        {#</ol>#}
        <!-- end breadcrumb -->

        <!-- You can also add more buttons to the
        ribbon for further usability

        Example below:

        <span class="ribbon-button-alignment pull-right" style="margin-right:25px">
            <a href="#" id="search" class="btn btn-ribbon hidden-xs" data-title="search"><i class="fa fa-grid"></i> Change Grid</a>
            <span id="add" class="btn btn-ribbon hidden-xs" data-title="add"><i class="fa fa-plus"></i> Add</span>
            <button id="search" class="btn btn-ribbon" data-title="search"><i class="fa fa-search"></i> <span class="hidden-mobile">Search</span></button>
        </span> -->

    </div>
    <!-- END RIBBON -->

    <!-- #MAIN CONTENT -->
    {% block content %}

    {% endblock %}

    <!-- END #MAIN CONTENT -->

</div>
<!-- END #MAIN PANEL -->

<!-- #PAGE FOOTER -->
<div class="page-footer">
    <div class="row">
        <div class="col-xs-12 col-sm-6">
            <span class="txt-color-white">Cromo V.2 <span class="hidden-xs"> - Todos los derechos reservados</span> Â© 2017-2019</span>
        </div>
    </div>
    <!-- end row -->
</div>
<!-- END FOOTER -->
{% block javascripts %}

    {#<script src="{{ asset('vendor/jquery/jquery.min.js') }}"></script>#}
    {#<script src="{{ asset('vendor/bootstrap/js/bootstrap.min.js') }}"></script>#}
    {#<script src="{{ asset('vendor/metisMenu/metisMenu.min.js') }}"></script>#}
    {#<script src="{{ asset('vendor/raphael/raphael.min.js') }}"></script>#}
    {#<script src="{{ asset('vendor/morrisjs/morris.min.js') }}"></script>#}
    {#<script src="{{ asset('../assets/data/morris-data.js') }}"></script>#}
    {#<script src="{{ asset('dist/js/sb-admin-2.js') }}"></script>#}
    {#<script src="{{ asset('plugins/select2/js/i18n/es.js') }}"></script>#}
    {#<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>#}
    {#<script src="{{ asset('vendor/moment/moment.min.js') }}"></script>#}
    {#<script src="{{ asset('plugins/select2/js/select2.full.js') }}"></script>#}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        if (!window.jQuery) {
            document.write('<script src="{{ asset('js/libs/jquery-3.2.1.min.js') }}"><\/script>');
        }
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script>
        if (!window.jQuery.ui) {
            document.write('<script src="{{ asset('js/libs/jquery-ui.min.js') }}"><\/script>');
        }
    </script>
    <!-- IMPORTANT: APP CONFIG -->
    <script src="{{ asset('js/app.config.js') }}"></script>
    <!-- BOOTSTRAP JS -->
    <script src="{{ asset('js/plugin/jquery-touch/jquery.ui.touch-punch.min.js') }}"></script>
    <script src="{{ asset('js/bootstrap/bootstrap.min.js') }}"></script>
    <script src="{{ asset('js/smartwidgets/jarvis.widget.min.js') }}"></script>
    <script src="{{ asset('js/app.min.js') }}"></script>
    <script src="{{ asset('plugins/select2/js/select2.full.js') }}"></script>
    <script src="{{ asset('js/general.js') }}"></script>
    <script>
        $(document).ready(function () {
            var selector = $('.notificacionPendiente');
            var notificaciones = $('.notificaciones');
            $.ajax({
                url: "{{ path('general_administracion_notificacion_notificacion') }}",
                type: "GET",
                dataType: "JSON",
                success: function (respuestas) {
                    if (respuestas['notificacionesPendientes'] && respuestas['notificacionesPendientes'] > 0) {
                        selector.html("");
                        notificaciones.html("");
                        selector.append('<i class="fa fa-bell fa-fw"></i><span class="badge badge-notify" style="margin-top:-22px;margin-left:-24px">' + " " + respuestas['notificacionesPendientes'] + '</span> <i class="fa fa-caret-down"></i>');
                        $.each(respuestas['notificaciones'], (key, notificacion) => {
                            if (key < 7) {
                                notificaciones.append('<li><a href="#"><div><i class="fa fa-comment fa-fw"></i><span style="font-size:13px ">' + notificacion['nombre'] + '</span><span class="pull-right text-muted small">' + moment(notificacion['fecha'], "YYYYMMDDhms").fromNow() + '</span></div></a></li><li class="divider"></li>');
                            }
                        });
                        notificaciones.append('<li><a class="text-center" href="{{ path('general_administracion_notificacion__todasNotificaciones') }}"><strong>Ver todas </strong><i class="fa fa-angle-right"></i></a></li>');
                    }
                },
                error: function (error) {
                    console.log(error);
                }
            });
        });


        function verNotificacionesPendientes() {
            var selector = $('.notificacionPendiente');
            // var notificaciones=$('.notificaciones');
            $.ajax({
                url: "{{ path('general_administracion_notificacion_ver') }}",
                type: "GET",
                dataType: "JSON",
                success: function (respuestas) {
                    selector.html('');
                    selector.append('<i class="fa fa-bell fa-fw"></i><i class="fa fa-caret-down"></i>');
                },
                error: function (error) {
                    console.log(error);
                }
            });
        }
    </script>

{% endblock %}
</body>
</html>
