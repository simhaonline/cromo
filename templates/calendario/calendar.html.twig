{% extends 'base.html.twig' %}
{% block content %}
    <div>
    <div class="col-sm-12 col-md-12 col-lg-3">
        <div class="jarviswidget jarviswidget-color-blueDark">
            <header>
                <h2> Agregar eventos </h2>
            </header>
            <div>
                <div class="widget-body">
                    <form id="add-event-form">
                        <fieldset>
                            <div class="form-group">
                                <label>Icono</label>
                                <div class="btn-group btn-group-sm btn-group-justified" data-toggle="buttons">
                                    <label class="btn btn-default active">
                                        <input type="radio" name="iconselect" id="icon-1" value="fa-info" checked>
                                        <i class="fa fa-info text-muted"></i> </label>
                                    <label class="btn btn-default">
                                        <input type="radio" name="iconselect" id="icon-2" value="fa-warning">
                                        <i class="fa fa-warning text-muted"></i> </label>
                                    <label class="btn btn-default">
                                        <input type="radio" name="iconselect" id="icon-3" value="fa-check">
                                        <i class="fa fa-check text-muted"></i> </label>
                                    <label class="btn btn-default">
                                        <input type="radio" name="iconselect" id="icon-4" value="fa-user">
                                        <i class="fa fa-user text-muted"></i> </label>
                                    <label class="btn btn-default">
                                        <input type="radio" name="iconselect" id="icon-5" value="fa-lock">
                                        <i class="fa fa-lock text-muted"></i> </label>
                                    <label class="btn btn-default">
                                        <input type="radio" name="iconselect" id="icon-6" value="fa-clock-o">
                                        <i class="fa fa-clock-o text-muted"></i> </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Titulo</label>
                                <input class="form-control" id="title" name="title" maxlength="40" type="text"
                                       placeholder="Ingrese un titulo para el evento">
                            </div>
                            <div class="form-group">
                                <label>Desde</label>
                                <input class="form-control" type="date" name="fechaDesde" id="fechaDesde">
                            </div>
                            <div class="form-group">
                                <label>Hasta</label>
                                <input class="form-control" type="date" name="fechaHasta" id="fechaHasta">
                            </div>
                            <div class="form-group">
                                <label>Descripcion</label>
                                <textarea class="form-control"
                                          placeholder="Ingrese una corta descripcion para el evento" rows="3"
                                          maxlength="40" id="description"></textarea>
                                <p class="note">Maximo 40 caracteres</p>
                            </div>
                            <div class="form-group">
                                <label>Color</label>
                                <div class="btn-group btn-group-justified btn-select-tick" data-toggle="buttons">
                                    <label class="btn bg-color-darken active">
                                        <input type="radio" name="priority" id="option1"
                                               value="bg-color-darken txt-color-white" checked>
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                    <label class="btn bg-color-blue">
                                        <input type="radio" name="priority" id="option2"
                                               value="bg-color-blue txt-color-white">
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                    <label class="btn bg-color-orange">
                                        <input type="radio" name="priority" id="option3"
                                               value="bg-color-orange txt-color-white">
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                    <label class="btn bg-color-greenLight">
                                        <input type="radio" name="priority" id="option4"
                                               value="bg-color-greenLight txt-color-white">
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                    <label class="btn bg-color-blueLight">
                                        <input type="radio" name="priority" id="option5"
                                               value="bg-color-blueLight txt-color-white">
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                    <label class="btn bg-color-red">
                                        <input type="radio" name="priority" id="option6"
                                               value="bg-color-red txt-color-white">
                                        <i class="fa fa-check txt-color-white"></i> </label>
                                </div>
                            </div>
                        </fieldset>
                        <div class="form-actions">
                            <div class="row">
                                <div class="col-md-12">
                                    <button class="btn btn-default" type="button" id="add-event">
                                        Agregar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="well well-sm" id="event-container">
            <form>
                <fieldset>
                    <legend>
                        Eventos
                    </legend>
                    <ul id='external-events' class="list-unstyled">
                    </ul>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" id="drop-remove" class="checkbox style-0" checked="checked">
                            <span>Eliminar despu√©s de arrastrar</span> </label>
                    </div>
                </fieldset>
            </form>

        </div>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-9">
        <div class="jarviswidget jarviswidget-color-blueDark">
            <header>
                <span class="widget-icon"> <i class="fa fa-calendar"></i> </span>
                <h2> Mis eventos </h2>
                <div class="widget-toolbar">
                    <div class="btn-group">
                        <button class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown">
                            Mostrar <i class="fa fa-caret-down"></i>
                        </button>
                        <ul class="dropdown-menu js-status-update pull-right">
                            <li>
                                <a href="javascript:void(0);" id="mes">Mes</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" id="agenda">Agenda</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" id="hoy">Hoy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </header>
            <div>
                <div class="widget-body no-padding">
                    <div class="widget-body-toolbar">
                        <div id="calendar-buttons">
                            <div class="btn-group">
                                <a href="javascript:void(0)" class="btn btn-default btn-xs" id="btn-prev"><i
                                            class="fa fa-chevron-left"></i></a>
                                <a href="javascript:void(0)" class="btn btn-default btn-xs" id="btn-next"><i
                                            class="fa fa-chevron-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <div id="calendar"></div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    </div>
    </div>
    <script>
        $('#add-event').click(function () {
            $.ajax({
                url: "{{ path('calendario_guardar_evento') }}",
                type: "GET",
                dataType: "JSON",
                data: {
                    id: selector.val(),
                    combo: selector.attr('name'),
                },
        })
        // $(document).ready(function () {
        //     pageSetUp();
        //     "use strict";
        //     var date = new Date();
        //     var d = date.getDate();
        //     var m = date.getMonth();
        //     var y = date.getFullYear();
        //
        //     var hdr = {
        //         left: 'title',
        //         center: 'month,agendaWeek,agendaDay',
        //         right: 'prev,today,next'
        //     };
        //
        //     var initDrag = function (e) {
        //         // create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)
        //         // it doesn't need to have a start or end
        //
        //         var eventObject = {
        //             title: $.trim(e.children().text()), // use the element's text as the event title
        //             description: $.trim(e.children('span').attr('data-description')),
        //             icon: $.trim(e.children('span').attr('data-icon')),
        //             className: $.trim(e.children('span').attr('class')) // use the element's children as the event class
        //         };
        //         // store the Event Object in the DOM element so we can get to it later
        //         e.data('eventObject', eventObject);
        //
        //         // make the event draggable using jQuery UI
        //         e.draggable({
        //             zIndex: 999,
        //             revert: true, // will cause the event to go back to its
        //             revertDuration: 0 //  original position after the drag
        //         });
        //     };
        //
        //     var addEvent = function (title, priority, description, icon) {
        //         title = title.length === 0 ? "Evento sin titulo" : title;
        //         description = description.length === 0 ? "Sin descripcion" : description;
        //         icon = icon.length === 0 ? " " : icon;
        //         priority = priority.length === 0 ? "label label-default" : priority;
        //
        //         var html = $('<li><span class="' + priority + '" data-description="' + description + '" data-icon="' +
        //             icon + '">' + title + '</span></li>').prependTo('ul#external-events').hide().fadeIn();
        //
        //         $("#event-container").effect("highlight", 800);
        //
        //         initDrag(html);
        //     };
        //
        //     /* initialize the external events
        //      -----------------------------------------------------------------*/
        //
        //     $('#external-events > li').each(function () {
        //         initDrag($(this));
        //     });
        //
        //     $('#add-event').click(function () {
        //         var title = $('#title').val(),
        //             priority = $('input:radio[name=priority]:checked').val(),
        //             description = $('#description').val(),
        //             icon = $('input:radio[name=iconselect]:checked').val();
        //
        //         addEvent(title, priority, description, icon);
        //     });
        //
        //     /* initialize the calendar
        //      -----------------------------------------------------------------*/
        //
        //     $('#calendar').fullCalendar({
        //         header: hdr,
        //         editable: true,
        //         droppable: true, // this allows things to be dropped onto the calendar !!!
        //         drop: function (date, allDay) { // this function is called when something is dropped
        //
        //             // retrieve the dropped element's stored Event Object
        //             var originalEventObject = $(this).data('eventObject');
        //
        //             // we need to copy it, so that multiple events don't have a reference to the same object
        //             var copiedEventObject = $.extend({}, originalEventObject);
        //
        //             // assign it the date that was reported
        //             copiedEventObject.start = date;
        //             copiedEventObject.allDay = allDay;
        //
        //             // render the event on the calendar
        //             // the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
        //             $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);
        //
        //             // is the "remove after drop" checkbox checked?
        //             if ($('#drop-remove').is(':checked')) {
        //                 // if so, remove the element from the "Draggable Events" list
        //                 $(this).remove();
        //             }
        //
        //         },
        //
        //         select: function (start, end, allDay) {
        //             var title = prompt('Event Title:');
        //             if (title) {
        //                 calendar.fullCalendar('renderEvent', {
        //                         title: title,
        //                         start: start,
        //                         end: end,
        //                         allDay: allDay
        //                     }, true // make the event "stick"
        //                 );
        //             }
        //             calendar.fullCalendar('unselect');
        //         },
        //
        //         //Listado de eventos
        //         events: [{
        //             title: 'All Day Event',
        //             start: new Date(y, m, 1),
        //             description: 'long description',
        //             className: ["event", "bg-color-greenLight"],
        //             icon: 'fa-check'
        //         }, {
        //             title: 'Long Event',
        //             start: new Date(y, m, d - 5),
        //             end: new Date(y, m, d - 2),
        //             className: ["event", "bg-color-red"],
        //             icon: 'fa-clock-o'
        //         }, {
        //             id: 999,
        //             title: 'Repeating Event',
        //             start: new Date(y, m, d - 3, 16, 0),
        //             allDay: false,
        //             className: ["event", "bg-color-blue"],
        //             icon: 'fa-clock-o'
        //         }, {
        //             id: 999,
        //             title: 'Repeating Event',
        //             start: new Date(y, m, d + 4, 16, 0),
        //             allDay: false,
        //             className: ["event", "bg-color-blue"],
        //             icon: 'fa-clock-o'
        //         }, {
        //             title: 'Meeting',
        //             start: new Date(y, m, d, 10, 30),
        //             allDay: false,
        //             className: ["event", "bg-color-darken"]
        //         }, {
        //             title: 'Lunch',
        //             start: new Date(y, m, d, 12, 0),
        //             end: new Date(y, m, d, 14, 0),
        //             allDay: false,
        //             className: ["event", "bg-color-darken"]
        //         }, {
        //             title: 'Birthday Party',
        //             start: new Date(y, m, d + 1, 19, 0),
        //             end: new Date(y, m, d + 1, 22, 30),
        //             allDay: false,
        //             className: ["event", "bg-color-darken"]
        //         }, {
        //             title: 'Smartadmin Open Day',
        //             start: new Date(y, m, 28),
        //             end: new Date(y, m, 28),
        //             className: ["event", "bg-color-darken"]
        //         }],
        //
        //         eventRender: function (event, element, icon) {
        //             if (!event.description == "") {
        //                 element.find('.fc-title').append("<br/><span class='ultra-light'>" + event.description +
        //                     "</span>");
        //             }
        //             if (!event.icon == "") {
        //                 element.find('.fc-title').append("<i class='air air-top-right fa " + event.icon +
        //                     " '></i>");
        //             }
        //         },
        //     });
        //
        //     /* hide default buttons */
        //     $('.fc-right, .fc-center').hide();
        //
        //
        //     $('#calendar-buttons #btn-prev').click(function () {
        //         $('.fc-prev-button').click();
        //         return false;
        //     });
        //
        //     $('#calendar-buttons #btn-next').click(function () {
        //         $('.fc-next-button').click();
        //         return false;
        //     });
        //
        //     $('#calendar-buttons #btn-today').click(function () {
        //         $('.fc-today-button').click();
        //         return false;
        //     });
        //
        //     //Cambia el tipo de vista
        //     $('#mes').click(function () {
        //         $('#calendar').fullCalendar('changeView', 'month');
        //     });
        //
        //     $('#agenda').click(function () {
        //         $('#calendar').fullCalendar('changeView', 'agendaWeek');
        //     });
        //
        //     $('#hoy').click(function () {
        //         $('#calendar').fullCalendar('changeView', 'agendaDay');
        //     });
        //
        // })
    </script>
{% endblock %}